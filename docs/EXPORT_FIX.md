# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ —ç–∫—Å–ø–æ—Ä—Ç–∞ —Ñ–∞–π–ª–æ–≤

## –ü—Ä–æ–±–ª–µ–º–∞
–ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ —ç–∫—Å–ø–æ—Ä—Ç–∞ —Ñ–∞–π–ª–æ–≤ –≤–æ–∑–Ω–∏–∫–∞–ª–∞ –æ—à–∏–±–∫–∞:
```
2 validation errors for SendDocument
document.is-instance[InputFile]
  Input should be an instance of InputFile [type=is_instance_of, input_value=<_io.BytesIO object at 0x7fc5921b4e50>, input_type=BytesIO]
```

## –ü—Ä–∏—á–∏–Ω–∞
Aiogram 3.4.1 –æ–∂–∏–¥–∞–µ—Ç –æ–±—ä–µ–∫—Ç —Ç–∏–ø–∞ `InputFile` –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤, –Ω–æ –º—ã –ø–µ—Ä–µ–¥–∞–≤–∞–ª–∏ `BytesIO` –æ–±—ä–µ–∫—Ç –Ω–∞–ø—Ä—è–º—É—é.

## –†–µ—à–µ–Ω–∏–µ

### 1. –ü—Ä–æ–±–ª–µ–º–Ω—ã–π –∫–æ–¥:
```python
await callback.message.answer_document(
    document=csv_bytes,  # ‚ùå BytesIO –æ–±—ä–µ–∫—Ç
    caption="..."
)
```

### 2. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π –∫–æ–¥:
```python
# –°–æ–∑–¥–∞–µ–º –≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ñ–∞–π–ª
temp_file_path = f"/tmp/{filename}"
with open(temp_file_path, 'wb') as f:
    f.write(csv_bytes.getvalue())

# –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Ñ–∞–π–ª
await callback.message.answer_document(
    document=FSInputFile(temp_file_path),  # ‚úÖ FSInputFile
    caption="..."
)

# –£–¥–∞–ª—è–µ–º –≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ñ–∞–π–ª
os.remove(temp_file_path)
```

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
- **`FSInputFile`** - –∫–ª–∞—Å—Å aiogram –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ñ–∞–π–ª–∞–º–∏ –Ω–∞ –¥–∏—Å–∫–µ
- **–í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã** - —Å–æ–∑–¥–∞–Ω–∏–µ –≤ `/tmp/` –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞** - —É–¥–∞–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –ø–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ä–µ—à–µ–Ω–∏—è:
- ‚úÖ –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å aiogram 3.4.1
- ‚úÖ –ù–∞–¥–µ–∂–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–∞–π–ª–æ–≤
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è (–Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç):
- ‚ùå `BufferedInputFile` - –ø—Ä–æ–±–ª–µ–º—ã —Å pydantic
- ‚ùå –ü—Ä—è–º–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ `BytesIO` - –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è
- ‚ùå `Document` –æ–±—ä–µ–∫—Ç - —Ç—Ä–µ–±—É–µ—Ç file_id

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–§—É–Ω–∫—Ü–∏—è –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ:
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
- ‚úÖ –û—Ç–ø—Ä–∞–≤–∫–∞ —á–µ—Ä–µ–∑ FSInputFile
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

## –°—Ç–∞—Ç—É—Å

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ  
**–î–∞—Ç–∞:** 03.08.2025  
**–í–µ—Ä—Å–∏—è:** 1.2.1 